# üß© SynapseNext ‚Äì Fase 1  
## Integra√ß√£o INSUMOS ‚Üí DFD (Formaliza√ß√£o da Demanda)

---

### üèõÔ∏è Contexto Institucional

O projeto **SynapseNext ‚Äì SAAB/TJSP** tem como objetivo automatizar o ciclo completo de artefatos administrativos previstos na **Lei n¬∫ 14.133/2021**, promovendo interoperabilidade e intelig√™ncia institucional.  

A **Fase 1** visou comprovar a integra√ß√£o funcional entre os m√≥dulos **INSUMOS** e **DFD (Formaliza√ß√£o da Demanda)**, estabelecendo o fluxo base de ingest√£o de documentos, an√°lise com IA, sincroniza√ß√£o e exporta√ß√£o institucional.

---

### ‚öôÔ∏è Estrutura T√©cnica e Componentes

| Componente | Fun√ß√£o principal |
|-------------|------------------|
| `utils/integration_insumos.py` | Processa insumos (PDF, DOCX, TXT), extrai texto e executa an√°lise sem√¢ntica via IA (modelo `gpt-4o-mini`). Exporta dados estruturados para uso nos artefatos seguintes. |
| `streamlit_app/pages/02_üìÑ DFD ‚Äì Formaliza√ß√£o da Demanda.py` | Consome automaticamente os dados exportados pelo m√≥dulo INSUMOS e gera o rascunho do DFD com suporte da IA institucional. |
| `exports/insumos_data.json` | Arquivo JSON criado automaticamente contendo os metadados e campos identificados para integra√ß√£o. |
| `agents/guide_agent.py` | Agente orquestrador para gera√ß√£o de artefatos institucionais via IA. |

---

### üîÑ Fluxo Validado

1. **Upload do Insumo**
   - Usu√°rio realiza upload via m√≥dulo **INSUMOS**.
   - Documento salvo em `insumos_processados/`.
   - Texto extra√≠do automaticamente.

2. **An√°lise Sem√¢ntica com IA**
   - O texto √© interpretado pelo modelo **gpt-4o-mini**.
   - Campos administrativos e t√©cnicos s√£o extra√≠dos (objeto, justificativa, valor, unidade etc.).

3. **Exporta√ß√£o Autom√°tica**
   - O sistema gera o arquivo `exports/insumos_data.json`, pronto para ser consumido pelo DFD.

4. **Importa√ß√£o no M√≥dulo DFD**
   - Ao abrir o DFD, o sistema identifica o arquivo `insumos_data.json`.
   - Preenche automaticamente o formul√°rio com os metadados importados.

5. **Gera√ß√£o e Exporta√ß√£o do Artefato**
   - IA institucional gera o rascunho completo do DFD.
   - Resultado exibido em JSON e exportado para Word (`.docx`).
   - Fluxo validado sem necessidade de ajustes manuais.

---

### ‚úÖ Resultados Obtidos

- Integra√ß√£o **completa e funcional** entre INSUMOS e DFD.  
- IA aplicada com sucesso √† leitura e estrutura√ß√£o sem√¢ntica dos documentos.  
- Exporta√ß√£o e importa√ß√£o automatizadas entre m√≥dulos.  
- Gera√ß√£o de artefato institucional (DFD) em formato Word validada.  
- Estrutura base pronta para replica√ß√£o em ETP, TR, Edital e Contrato.  

---

### ‚öôÔ∏è Evolu√ß√µes Planejadas

| Fase | Descri√ß√£o | Status |
|------|------------|--------|
| **Fase 2** | Integra√ß√£o DFD ‚Üí ETP (Estudo T√©cnico Preliminar) | ‚è≥ Em prepara√ß√£o |
| **Fase 3** | Integra√ß√£o ETP ‚Üí TR (Termo de Refer√™ncia) | ‚è≥ Planejada |
| **Fase 4** | Integra√ß√£o TR ‚Üí Edital / Contrato | ‚è≥ Planejada |
| **Fase 5** | Exporta√ß√£o refinada (Word e PDF com formata√ß√£o oficial TJSP) | ‚è≥ Pendente de defini√ß√µes institucionais |
| **Fase 6** | Integra√ß√£o SharePoint / Power BI | ‚è≥ Planejada |

---

### üß† Estado Atual do Sistema

| M√≥dulo | Situa√ß√£o | Observa√ß√£o |
|---------|-----------|------------|
| INSUMOS | ‚úÖ Operacional | Upload, extra√ß√£o e IA funcionando |
| DFD | ‚úÖ Operacional | Importa√ß√£o autom√°tica e exporta√ß√£o Word |
| ETP | ‚öôÔ∏è Em desenvolvimento | Pr√≥xima integra√ß√£o |
| TR | ‚è≥ Planejado | Depende da Fase 2 |
| Edital / Contrato | ‚è≥ Planejado | Etapa final do ciclo |
| SharePoint / Auditoria | ‚è≥ Preparado | Pipeline presente em `export_sharepoint_pipeline.py` |

---

### üß© Conclus√£o T√©cnica

A **Fase 1** do projeto **SynapseNext ‚Äì SAAB/TJSP** atingiu plenamente seus objetivos:

- Prova de conceito conclu√≠da com sucesso.  
- Integra√ß√£o funcional entre m√≥dulos estabelecida.  
- Automa√ß√£o de leitura, an√°lise e gera√ß√£o de artefatos validada.  

O sistema encontra-se **tecnicamente apto** para avan√ßar √† **Fase 2 (DFD ‚Üí ETP)**, consolidando o ciclo de produ√ß√£o documental inteligente do Tribunal.

---

### üèÅ Pr√≥ximos Passos

1. Criar novo ciclo de desenvolvimento:  
   **Chat:** `SynapseNext ‚Äì Fase 2: Integra√ß√£o DFD ‚Üí ETP (Estudo T√©cnico Preliminar)`  
2. Implementar leitura autom√°tica de `dfd_data.json` no m√≥dulo ETP.  
3. Testar preenchimento e gera√ß√£o IA do artefato ETP.  
4. Validar exporta√ß√£o e propaga√ß√£o de dados para o TR.

---

### üìé Anexo T√©cnico

**Arquivo gerado:**  
`/exports/insumos_data.json`  

**Fluxos ativos:**  
- `/streamlit_app/pages/01_üß© Insumos.py`  
- `/streamlit_app/pages/02_üìÑ DFD ‚Äì Formaliza√ß√£o da Demanda.py`  
- `/utils/integration_insumos.py`  

---

**Vers√£o:** `Fase 1 ‚Äì Build 2025.10.24`  
**Respons√°vel t√©cnico:** Eng. Carlos Mattos  
**Agente institucional:** SynapseNext (GPT-5 ‚Äì OpenAI Orchestration)  
**Ambiente:** Codespaces / Streamlit Runtime  
**Status:** ‚úÖ Homologada com sucesso
